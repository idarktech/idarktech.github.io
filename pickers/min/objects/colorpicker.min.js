+function(a){"use strict";function b(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function c(a){var b=a.toString(16);return 1===b.length?"0"+b:b}function d(a,b,d){return"#"+c(a)+c(b)+c(d)}function e(){var b;a(g).each(function(c){return b=f(a(this)),b.hasClass("open")?(b.trigger(c=a.Event("hide.bfhcolorpicker")),c.isDefaultPrevented()?!0:void b.removeClass("open").trigger("hidden.bfhcolorpicker")):!0})}function f(a){return a.closest(".bfh-colorpicker")}var g="[data-toggle=bfh-colorpicker]",h=function(b,c){this.options=a.extend({},a.fn.bfhcolorpicker.defaults,c),this.$element=a(b),this.initPopover()};h.prototype={constructor:h,initPalette:function(){var a,b,c;document.createElement("canvas").getContext&&(a=this.$element.find("canvas"),b=a[0].getContext("2d"),c=b.createLinearGradient(0,0,a.width(),0),c.addColorStop(0,"rgb(255, 255, 255)"),c.addColorStop(.1,"rgb(255,   0,   0)"),c.addColorStop(.25,"rgb(255,   0, 255)"),c.addColorStop(.4,"rgb(0,     0, 255)"),c.addColorStop(.55,"rgb(0,   255, 255)"),c.addColorStop(.7,"rgb(0,   255,   0)"),c.addColorStop(.85,"rgb(255, 255,   0)"),c.addColorStop(1,"rgb(255,   0,   0)"),b.fillStyle=c,b.fillRect(0,0,b.canvas.width,b.canvas.height),c=b.createLinearGradient(0,0,0,a.height()),c.addColorStop(0,"rgba(255, 255, 255, 1)"),c.addColorStop(.5,"rgba(255, 255, 255, 0)"),c.addColorStop(.5,"rgba(0,     0,   0, 0)"),c.addColorStop(1,"rgba(0,     0,   0, 1)"),b.fillStyle=c,b.fillRect(0,0,b.canvas.width,b.canvas.height))},initPopover:function(){var a,b;a="",b="","right"===this.options.align?b='<span class="input-group-addon"><span class="bfh-colorpicker-icon"></span></span>':a='<span class="input-group-addon"><span class="bfh-colorpicker-icon"></span></span>',this.$element.html('<div class="input-group bfh-colorpicker-toggle" data-toggle="bfh-colorpicker">'+a+'<input type="text" name="'+this.options.name+'" class="'+this.options.input+'" placeholder="'+this.options.placeholder+'" readonly>'+b+'</div><div class="bfh-colorpicker-popover"><canvas class="bfh-colorpicker-palette" width="384" height="256"></canvas></div>'),this.$element.on("click.bfhcolorpicker.data-api touchstart.bfhcolorpicker.data-api",g,h.prototype.toggle).on("mousedown.bfhcolorpicker.data-api touchstart.bfhcolorpicker.data-api","canvas",h.prototype.mouseDown).on("click.bfhcolorpicker.data-api touchstart.bfhcolorpicker.data-api",".bfh-colorpicker-popover",function(){return!1}),this.initPalette(),this.$element.val(this.options.color)},updateVal:function(a,b){var c,e,f,g,h,i,j;h=5,document.createElement("canvas").getContext&&(c=this.$element.find("canvas"),e=c[0].getContext("2d"),f=a-c.offset().left,g=b-c.offset().top,f=Math.round(f/h)*h,g=Math.round(g/h)*h,0>f&&(f=0),f>=c.width()&&(f=c.width()-1),0>g&&(g=0),g>c.height()&&(g=c.height()),i=e.getImageData(f,g,1,1),j=d(i.data[0],i.data[1],i.data[2]),j!==this.$element.val()&&(this.$element.val(j),this.$element.trigger("change.bfhcolorpicker")))},mouseDown:function(c){var d,e;d=a(this),e=f(d),console.log("!isMobile() = ",b()),b()?a(document).on("touchend.bfhcolorpicker.data-api",{colorpicker:e},h.prototype.touchEnd):a(document).on("mousemove.bfhcolorpicker.data-api",{colorpicker:e},h.prototype.mouseMove).one("mouseup.bfhcolorpicker.data-api",{colorpicker:e},h.prototype.mouseUp)},mouseMove:function(a){var b;b=a.data.colorpicker,b.data("bfhcolorpicker").updateVal(a.pageX,a.pageY)},mouseUp:function(b){var c;c=b.data.colorpicker,c.data("bfhcolorpicker").updateVal(b.pageX,b.pageY),a(document).off("mousemove.bfhcolorpicker.data-api"),c.data("bfhcolorpicker").options.close===!0&&e()},touchEnd:function(b){var c=b.originalEvent.changedTouches[0].pageX,d=b.originalEvent.changedTouches[0].pageY,f=b.data.colorpicker;f.data("bfhcolorpicker").updateVal(c,d),a(document).off("touchend.bfhcolorpicker.data-api"),f.data("bfhcolorpicker").options.close===!0&&e()},toggle:function(b){var c,d,g;if(c=a(this),d=f(c),d.is(".disabled")||void 0!==d.attr("disabled"))return!0;if(g=d.hasClass("open"),e(),!g){if(d.trigger(b=a.Event("show.bfhcolorpicker")),b.isDefaultPrevented())return!0;d.toggleClass("open").trigger("shown.bfhcolorpicker"),c.focus()}return!1}};var i=a.fn.bfhcolorpicker;a.fn.bfhcolorpicker=function(b){return this.each(function(){var c,d,e;c=a(this),d=c.data("bfhcolorpicker"),e="object"==typeof b&&b,this.type="bfhcolorpicker",d||c.data("bfhcolorpicker",d=new h(this,e)),"string"==typeof b&&d[b].call(c)})},a.fn.bfhcolorpicker.Constructor=h,a.fn.bfhcolorpicker.defaults={align:"left",input:"form-control",placeholder:"",name:"",color:"#000000",close:!0},a.fn.bfhcolorpicker.noConflict=function(){return a.fn.bfhcolorpicker=i,this};var j;a.valHooks.div&&(j=a.valHooks.div),a.valHooks.div={get:function(b){return a(b).hasClass("bfh-colorpicker")?a(b).find('input[type="text"]').val():j?j.get(b):void 0},set:function(b,c){if(a(b).hasClass("bfh-colorpicker"))a(b).find(".bfh-colorpicker-icon").css("background-color",c),a(b).find('input[type="text"]').val(c);else if(j)return j.set(b,c)}},a(document).ready(function(){a("div.bfh-colorpicker").each(function(){var b;b=a(this),b.bfhcolorpicker(b.data())})}),a(document).on("click.bfhcolorpicker.data-api",e)}(window.jQuery);var colorpicker=function(){function a(a,b,c){function d(){i.on("change.bfhcolorpicker",function(a){j=$(this).val(),e()&&JFCustomWidget.hideWidgetError(),JFCustomWidget.sendData({value:j})}).on("show.bfhcolorpicker",function(a){h(!0)}).on("hidden.bfhcolorpicker",function(a){h()})}function e(){return!!j&&g(j)}function f(){return j}function g(a){return"#"!=a.charAt(0)?!1:(a=a.replace(/^#/,""),"string"==typeof a&&6===a.length&&!isNaN(parseInt(a,16)))}function h(a){var b=$("#colorpicker").outerHeight(),c=l;"undefined"!=typeof a&&a&&(b+=$(".bfh-colorpicker-popover").outerHeight(),c=$(".bfh-colorpicker-popover").outerWidth()-27),JFCustomWidget.requestFrameResize({height:b,width:c})}var i=$("#colorpicker"),j="defaultColor"in b?b.defaultColor:"";this.isValid=e,this.getValue=f,this.resizeWidget=h,d();var k={align:"left",input:"form-control",placeholder:"",name:"",color:"defaultColor"in b?b.defaultColor:"",close:!0};a&&a.value&&(k.color=j=a.value),i.show().addClass("bfh-"+b.pickerType).bfhcolorpicker(k);var l=i.outerWidth(),m="Yes"===b.manualEntry;if(8===JFCustomWidgetUtils.getIE()&&(i.find(".bfh-colorpicker-popover").hide().remove(),i.find(".bfh-colorpicker-toggle").after("Please Enter HEX color code"),m=!0),m){var n=i.find("input[type=text]");n.removeAttr("readonly").css("z-index",99).keyup(function(){j=$(this).val(),JFCustomWidget.sendData({value:j}),g(j)&&i.find(".bfh-colorpicker-icon").css("background-color",j)})}c&&c.call(this)}return a}();
//# sourceMappingURL=colorpicker.min.js.map